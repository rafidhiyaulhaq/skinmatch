<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>SkinMatch API Documentation</title>
   <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
   <nav class="bg-white shadow-lg">
       <div class="max-w-6xl mx-auto px-4 py-3">
           <h1 class="text-2xl font-bold">SkinMatch API Documentation</h1>
       </div>
   </nav>

   <main class="max-w-6xl mx-auto p-4">
       <div class="bg-white shadow rounded-lg p-6 mb-6">
           <h2 class="text-xl font-bold mb-4">Base URL</h2>
           <code class="bg-gray-100 p-2 rounded">https://skinmatch.up.railway.app</code>
       </div>

       <div class="bg-white shadow rounded-lg p-6 mb-6">
           <h2 class="text-xl font-bold mb-4">External Services Integration</h2>
           
           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">FinTrackIt Email Service</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">Service Provider:</span> David Dewanto (18222027)</p>
                   <p class="mb-2"><span class="font-bold">Base URL:</span> https://api.fintrackit.my.id/v1</p>
                   <p class="mb-2"><span class="font-bold">Authentication:</span> API Key & Bearer Token</p>
                   <div class="mb-4">
                       <span class="font-bold">Endpoints:</span>
                       <ul class="list-disc ml-6 mt-1">
                           <li>/auth/token - Generate access token</li>
                           <li>/secure/send-email - Send email notification</li>
                       </ul>
                   </div>
                   <div class="mb-2">
                       <span class="font-bold">Features:</span>
                       <ul class="list-disc ml-6 mt-1">
                           <li>Automated email notifications after quiz completion</li>
                           <li>HTML email templates with personalized results</li>
                           <li>Secure token-based authentication</li>
                           <li>Automatic token refresh handling</li>
                       </ul>
                   </div>
               </div>
           </div>
       </div>

       <div class="bg-white shadow rounded-lg p-6 mb-6">
           <h2 class="text-xl font-bold mb-4">Authentication Endpoints</h2>
           
           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Register</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/auth/register</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> POST</p>
                   <div class="mb-2">
                       <span class="font-bold">Request Body:</span>
                       <pre class="bg-gray-200 p-2 rounded mt-1">
{
    "username": "string",
    "email": "string",
    "password": "string"
}</pre>
                   </div>
               </div>
           </div>

           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Login</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/auth/login</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> POST</p>
                   <div class="mb-2">
                       <span class="font-bold">Request Body:</span>
                       <pre class="bg-gray-200 p-2 rounded mt-1">
{
    "email": "string",
    "password": "string"
}</pre>
                   </div>
               </div>
           </div>

           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Get Profile</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/auth/profile</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> GET</p>
                   <p class="mb-2"><span class="font-bold">Headers:</span> Authorization: Bearer token</p>
               </div>
           </div>

           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Update Profile</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/auth/profile</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> PUT</p>
                   <p class="mb-2"><span class="font-bold">Headers:</span> Authorization: Bearer token</p>
                   <div class="mb-2">
                       <span class="font-bold">Request Body:</span>
                       <pre class="bg-gray-200 p-2 rounded mt-1">
{
    "username": "string (optional)",
    "email": "string (optional)",
    "currentPassword": "string (required for password change)",
    "newPassword": "string (optional)"
}</pre>
                   </div>
               </div>
           </div>
       </div>

       <div class="bg-white shadow rounded-lg p-6 mb-6">
           <h2 class="text-xl font-bold mb-4">Quiz Endpoints</h2>
           
           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Submit Quiz</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/quiz/submit</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> POST</p>
                   <p class="mb-2"><span class="font-bold">Headers:</span> Authorization: Bearer token</p>
                   <div class="mb-2">
                       <span class="font-bold">Request Body:</span>
                       <pre class="bg-gray-200 p-2 rounded mt-1">
{
    "answers": {
        "oiliness": "string",
        "dryness": "string",
        "sensitivity": "string",
        "pores": "string",
        "acne": "string"
    }
}</pre>
                   </div>
                   <div class="mt-4">
                       <span class="font-bold">Response Actions:</span>
                       <ul class="list-disc ml-6 mt-1">
                           <li>Analyzes skin type based on answers</li>
                           <li>Generates product recommendations</li>
                           <li>Sends email notification via FinTrackIt service</li>
                           <li>Returns analysis results and recommendations</li>
                       </ul>
                   </div>
               </div>
           </div>

           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Get Quiz History</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/quiz/history</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> GET</p>
                   <p class="mb-2"><span class="font-bold">Headers:</span> Authorization: Bearer token</p>
               </div>
           </div>
       </div>

       <div class="bg-white shadow rounded-lg p-6">
           <h2 class="text-xl font-bold mb-4">Products Endpoints</h2>
           
           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Get Recommendations</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/products/recommendations</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> GET</p>
                   <p class="mb-2"><span class="font-bold">Headers:</span> Authorization: Bearer token</p>
                   <p class="mb-2"><span class="font-bold">Query:</span> skinType=string</p>
               </div>
           </div>

           <div class="mb-6">
               <h3 class="text-lg font-semibold mb-2">Get All Products</h3>
               <div class="bg-gray-100 p-4 rounded">
                   <p class="mb-2"><span class="font-bold">URL:</span> /api/products</p>
                   <p class="mb-2"><span class="font-bold">Method:</span> GET</p>
                   <p class="mb-2"><span class="font-bold">Query Parameters:</span></p>
                   <ul class="list-disc ml-6 mb-2">
                       <li>category (optional)</li>
                       <li>brand (optional)</li>
                       <li>minPrice (optional)</li>
                       <li>maxPrice (optional)</li>
                   </ul>
               </div>
           </div>
       </div>
   </main>
</body>
</html>